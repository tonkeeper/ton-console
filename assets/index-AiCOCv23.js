import{j as e,_ as L,T as i,M as d,$ as C,a0 as D,a1 as T,r as l,A as k,C as x,G as m,B as w,a2 as S,a3 as F,a4 as A,a5 as c,a6 as R,a7 as v,a8 as M,a9 as q,aa as G,ab as I,ac as O,O as B,F as E,k as K}from"./index-BCN26Ft_.js";import{T as z}from"./TgChannelCardLink-BwTQ3usc.js";import{u as H}from"./queries-Bhlsj0k-.js";import{a as h}from"./queries-B6tpSeut.js";import{C as P}from"./card-header-CLcn9s-r.js";import{L as X,a as _,b as N}from"./list-D2sr8y6t.js";import{F as V}from"./FeaturesList-CnhOP27g.js";import"./CardLink-CXh3WTVz.js";import"./usd-currency-amount-OKdR9Ymz.js";const Y=({tier:a,...t})=>e.jsxs(L,{...t,children:[e.jsxs(P,{display:"flex",children:[e.jsx(i,{textStyle:"label1",flex:"1",color:"text.primary",children:(a==null?void 0:a.name)||"Free"}),(a==null?void 0:a.renewsDate)&&e.jsxs(i,{textStyle:"body3",color:"text.secondary",children:["Available until ",d(a.renewsDate)]})]}),e.jsx(C,{children:e.jsx(X,{flex:"1",spacing:"2",children:e.jsxs(_,{display:"flex",children:[e.jsx(N,{as:D,color:"text.primary"}),e.jsxs(i,{textStyle:"body2",color:"text.primary",children:[a.rps," requests per second"]})]})})})]}),Z=a=>{const{colors:t}=T(),{data:s,isLoading:p}=H(),{data:n,isLoading:j}=h(),u=l.useMemo(()=>{if(!(s!=null&&s.length))return[];const r=s.filter((o,g)=>g%48===0).map(o=>o.time);return r.includes(s[s.length-1].time)||r.push(s[s.length-1].time),r},[s]),f=l.useCallback(r=>k(new Date(r)),[]),y=l.useCallback(r=>d(new Date(r)),[]),b=l.useMemo(()=>{if(!(s!=null&&s.length)||!n)return!1;const r=s.map(o=>o.value);return Math.max(...r)>=n.rps*.67},[s,n]);return p||j?e.jsx(x,{h:"200px",...a,children:e.jsx(m,{})}):!(s!=null&&s.length)||!n?e.jsx(i,{textStyle:"body2",py:"6",color:"text.secondary",textAlign:"center",children:"No data available"}):e.jsx(w,{h:"350px",...a,sx:{".recharts-wrapper .recharts-cartesian-grid-horizontal line:last-child":{strokeOpacity:0}},children:e.jsx(S,{width:"99%",height:"100%",children:e.jsxs(F,{width:400,height:400,data:s,children:[e.jsx(A,{strokeDasharray:"3 3"}),e.jsx(c,{dot:!1,type:"monotone",dataKey:"requests",name:"AVG req. per second",stroke:t.accent.blue}),b&&e.jsxs(e.Fragment,{children:[e.jsx(R,{ifOverflow:"extendDomain",y:n==null?void 0:n.rps,stroke:t.accent.red}),e.jsx(c,{dot:!1,dataKey:"ReferenceLineStub",name:"Limit",stroke:t.accent.red})]}),e.jsx(v,{dataKey:"time",domain:["dataMin","dataMax"],tickFormatter:y,name:"time",type:"number",ticks:u}),e.jsx(M,{padding:{top:10}}),e.jsx(q,{labelFormatter:f}),e.jsx(G,{})]})})})},$=a=>{const{data:t,isLoading:s}=h();return s?e.jsx(x,{h:"78px",...a,children:e.jsx(m,{})}):e.jsx(I,{gridTemplate:"1fr / repeat(4, 1fr)",...a,children:t&&e.jsx(O,{gridColumn:t.price.amount.isZero()?"unset":"span 2",children:e.jsx(Y,{tier:t})})})},ne=()=>e.jsxs(e.Fragment,{children:[e.jsxs(B,{h:"fit-content",mb:"4",children:[e.jsxs(E,{align:"flex-start",justify:"space-between",mb:"4",children:[e.jsx(K,{children:"Dashboard"}),e.jsx(z,{size:"sm"})]}),e.jsx($,{mb:"6"}),e.jsx(i,{textStyle:"label1",mb:"5",color:"text.primary",children:"REST API requests on behalf"}),e.jsx(Z,{})]}),e.jsx(V,{isContrast:!0})]});export{ne as default};
