import{dZ as N,r as c,j as e,ay as F,az as S,aA as k,aB as v,aC as A,aD as E,d_ as B,b4 as M,b as h,B as x,z as I,A as L,G as j,J as d,K as O,V as b,d$ as w,L as i,F as C,N as _,a5 as D,b7 as R,c1 as P,C as K,l as H,e0 as z,O as p,E as W,T as y,k as X}from"./index--6gyeIm1.js";import{E as q}from"./index-C7MYgz_t.js";import{e as G}from"./explorer-CZ4ocQ7V.js";import{c as J}from"./copy-to-clipboard-Ct1_m45i.js";import{T as U}from"./table-container-Bd__NqqD.js";const T=({isOpen:s,onClose:n})=>{const o="cnft-add-form",{mutate:t,isPending:a}=N(),r=c.useRef(null),g=c.useCallback(l=>{t(l,{onSuccess:()=>{var m;(m=r.current)==null||m.reset(),n()}})},[n,t]),u=c.useCallback(()=>{var l;(l=r.current)==null||l.reset(),n()},[n]);return e.jsxs(F,{isOpen:s,onClose:u,scrollBehavior:"inside",children:[e.jsx(S,{}),e.jsxs(k,{children:[e.jsx(v,{children:"Add cNFT"}),e.jsx(A,{}),e.jsx(E,{py:"0",children:e.jsx(B,{ref:r,id:o,onSubmit:g})}),e.jsxs(M,{gap:"3",children:[e.jsx(h,{flex:1,onClick:u,variant:"secondary",children:"Cancel"}),e.jsx(h,{flex:1,form:o,isLoading:a,type:"submit",variant:"primary",children:"Buy"})]})]})]})},f=({children:s,...n})=>e.jsx(j,{children:e.jsx(i,{h:"192px",border:"1px",borderColor:"background.contentTint",borderTop:"0",colSpan:12,children:e.jsx(K,{textStyle:"body2",color:"text.secondary",fontFamily:"body",...n,children:s})})}),V=({row:s})=>{const n=s.account.toString(),[o,t]=c.useState(),a=()=>{t(!0),J(n),setTimeout(()=>{t(!1)},1500)};return e.jsxs(j,{children:[e.jsx(i,{overflow:"hidden",maxW:"200px",children:s.name}),e.jsx(i,{w:"100%",maxW:"0",children:e.jsxs(C,{align:"center",gap:"1",children:[e.jsx(_,{display:"block",overflow:"hidden",color:"text.accent",textOverflow:"ellipsis",href:G.accountLink(n),isExternal:!0,children:n}),o&&e.jsx(D,{}),!o&&e.jsx(R,{"aria-label":"copy",icon:e.jsx(P,{}),onClick:a})]})}),e.jsx(i,{children:s.minted_count}),e.jsx(i,{children:s.paid_indexing_count}),e.jsx(i,{children:s.nft_count})]})},Y=({cnftHistory:s,isLoading:n,...o})=>{const t=n?"loading":"empty",a=s.length>0?"data":t;return e.jsx(x,{...o,children:e.jsx(U,{overflowX:"auto",w:"100%",border:"1px",borderColor:"background.contentTint",borderRadius:"sm",children:e.jsxs(I,{variant:"simple",children:[e.jsx(L,{children:e.jsxs(j,{children:[e.jsx(d,{children:"Name"}),e.jsx(d,{children:"Address"}),e.jsx(d,{children:"Minted"}),e.jsx(d,{children:"Paid"}),e.jsx(d,{children:"Total count"})]})}),e.jsxs(O,{children:[a==="data"&&s.map(r=>e.jsx(V,{row:r},r.account.toString())),a==="loading"&&e.jsx(f,{children:e.jsx(b,{})}),a==="empty"&&e.jsxs(f,{display:"flex",flexDirection:"column",children:[e.jsx(w,{}),e.jsx(x,{children:"No cNFT yet"}),e.jsx(x,{children:"Your collections will show up here."})]})]})]})})})},ne=()=>{const{isOpen:s,onClose:n,onOpen:o}=H(),{data:t=[],isLoading:a}=z();return t.length===0&&a?e.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(b,{})}):t.length===0?e.jsxs(e.Fragment,{children:[e.jsxs(q,{title:"Compressed NFTs",mainButtonAction:o,mainButtonText:"Add cNFT",guideButtonLink:W.DOCUMENTATION_CNFT,children:[e.jsx(y,{textStyle:"body2",children:"The cNFT Indexing Service allows you to add and index your cNFTs via the Tonconsole interface."}),e.jsx(y,{textStyle:"body2",mt:4,children:"Making them available through TonAPI without requiring immediate on-chain minting."})]}),e.jsx(T,{isOpen:s,onClose:n})]}):e.jsxs(p,{display:"flex",flexDirection:"column",children:[e.jsxs(C,{align:"flex-start",justify:"space-between",mb:"5",children:[e.jsx(X,{children:"cNFT"}),e.jsx(h,{onClick:o,variant:"secondary",children:"Add cNFT"})]}),e.jsx(T,{isOpen:s,onClose:n}),e.jsx(Y,{cnftHistory:t,isLoading:a})]})};export{ne as default};
