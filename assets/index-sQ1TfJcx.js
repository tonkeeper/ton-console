import{da as N,r as c,j as e,aA as F,aB as v,aC as S,aD as k,aE as E,aF as A,db as B,aG as M,b as h,B as x,s as I,v as w,w as j,x as d,y as L,G as b,dc as O,z as i,F as C,L as D,a0 as R,aJ as _,bN as P,C as H,l as K,dd as G,O as p,E as W,T as y,k as X}from"./index-BCN26Ft_.js";import{E as q}from"./index-Cix0b3hi.js";import{e as z}from"./explorer-Cg_jVVyy.js";import{c as J}from"./copy-to-clipboard-Ct1_m45i.js";import{T as U}from"./table-container-B5le7CdA.js";const T=({isOpen:s,onClose:n})=>{const a="cnft-add-form",{mutate:t,isPending:o}=N(),r=c.useRef(null),g=c.useCallback(l=>{t(l,{onSuccess:()=>{var m;(m=r.current)==null||m.reset(),n()}})},[n,t]),u=c.useCallback(()=>{var l;(l=r.current)==null||l.reset(),n()},[n]);return e.jsxs(F,{isOpen:s,onClose:u,scrollBehavior:"inside",children:[e.jsx(v,{}),e.jsxs(S,{children:[e.jsx(k,{children:"Add cNFT"}),e.jsx(E,{}),e.jsx(A,{py:"0",children:e.jsx(B,{ref:r,id:a,onSubmit:g})}),e.jsxs(M,{gap:"3",children:[e.jsx(h,{flex:1,onClick:u,variant:"secondary",children:"Cancel"}),e.jsx(h,{flex:1,form:a,isLoading:o,type:"submit",variant:"primary",children:"Buy"})]})]})]})},f=({children:s,...n})=>e.jsx(j,{children:e.jsx(i,{h:"192px",border:"1px",borderColor:"background.contentTint",borderTop:"0",colSpan:12,children:e.jsx(H,{textStyle:"body2",color:"text.secondary",fontFamily:"body",...n,children:s})})}),Y=({row:s})=>{const n=s.account.toString(),[a,t]=c.useState(),o=()=>{t(!0),J(n),setTimeout(()=>{t(!1)},1500)};return e.jsxs(j,{children:[e.jsx(i,{overflow:"hidden",maxW:"200px",children:s.name}),e.jsx(i,{w:"100%",maxW:"0",children:e.jsxs(C,{align:"center",gap:"1",children:[e.jsx(D,{display:"block",overflow:"hidden",color:"text.accent",textOverflow:"ellipsis",href:z.accountLink(n),isExternal:!0,children:n}),a&&e.jsx(R,{}),!a&&e.jsx(_,{"aria-label":"copy",icon:e.jsx(P,{}),onClick:o})]})}),e.jsx(i,{children:s.minted_count}),e.jsx(i,{children:s.paid_indexing_count}),e.jsx(i,{children:s.nft_count})]})},Q=({cnftHistory:s,isLoading:n,...a})=>{const t=n?"loading":"empty",o=s.length>0?"data":t;return e.jsx(x,{...a,children:e.jsx(U,{overflowX:"auto",w:"100%",border:"1px",borderColor:"background.contentTint",borderRadius:"sm",children:e.jsxs(I,{variant:"simple",children:[e.jsx(w,{children:e.jsxs(j,{children:[e.jsx(d,{children:"Name"}),e.jsx(d,{children:"Address"}),e.jsx(d,{children:"Minted"}),e.jsx(d,{children:"Paid"}),e.jsx(d,{children:"Total count"})]})}),e.jsxs(L,{children:[o==="data"&&s.map(r=>e.jsx(Y,{row:r},r.account.toString())),o==="loading"&&e.jsx(f,{children:e.jsx(b,{})}),o==="empty"&&e.jsxs(f,{display:"flex",flexDirection:"column",children:[e.jsx(O,{}),e.jsx(x,{children:"No cNFT yet"}),e.jsx(x,{children:"Your collections will show up here."})]})]})]})})})},ne=()=>{const{isOpen:s,onClose:n,onOpen:a}=K(),{data:t=[],isLoading:o}=G();return t.length===0&&o?e.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(b,{})}):t.length===0?e.jsxs(e.Fragment,{children:[e.jsxs(q,{title:"Compressed NFTs",mainButtonAction:a,mainButtonText:"Add cNFT",guideButtonLink:W.DOCUMENTATION_CNFT,children:[e.jsx(y,{textStyle:"body2",children:"The cNFT Indexing Service allows you to add and index your cNFTs via the Tonconsole interface."}),e.jsx(y,{textStyle:"body2",mt:4,children:"Making them available through TonAPI without requiring immediate on-chain minting."})]}),e.jsx(T,{isOpen:s,onClose:n})]}):e.jsxs(p,{display:"flex",flexDirection:"column",children:[e.jsxs(C,{align:"flex-start",justify:"space-between",mb:"5",children:[e.jsx(X,{children:"cNFT"}),e.jsx(h,{onClick:a,variant:"secondary",children:"Add cNFT"})]}),e.jsx(T,{isOpen:s,onClose:n}),e.jsx(Q,{cnftHistory:t,isLoading:o})]})};export{ne as default};
